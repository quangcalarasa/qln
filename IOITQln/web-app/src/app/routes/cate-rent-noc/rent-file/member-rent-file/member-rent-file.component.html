<div nz-row>
  <div nz-span>
    <a nz-button nzType="link" (click)="addRow()">
      <span nz-icon nzType="plus-circle"></span>
      Thành viên trong Hợp đồng thuê
    </a>
  </div>
</div>
<div nz-row [nzGutter]="24">
  <div nz-col [nzSpan]="24">
    <div class="card-body">
      <st
        #tableItemRef
        [data]="memberRentFiles"
        (change)="tableItemRefChange($event)"
        [columns]="columnsItem"
        [size]="'small'"
        [loading]="loading"
        [widthMode]="{ type: 'strict' }"
        [page]="{ front: false }"
      >
        <ng-template st-row="NameHeader" type="title"><span class="danger-star">*</span>Tên thành viên</ng-template>
        <ng-template st-row="RelationshipHeader" type="title"
          ><span class="danger-star">*</span>Mối quan hệ với người đại diện đứng tên ký Hợp đồng thuê nhà ở</ng-template
        >
        <ng-template st-row="NoteHeader" type="title">Ghi chú</ng-template>

        <ng-template st-row="Name" let-item let-index="index">
          <input
            *ngIf="item.edit"
            nz-input
            [ngClass]="item.submit && (!item.Name || item.Name == '') ? 'danger-st-row' : ''"
            [ngModel]="item.Name"
            (ngModelChange)="tableItemRef.setRow(index, { Name: $event })"
            [ngModelOptions]="{ standalone: true }"
          />
          <ng-container *ngIf="!item.edit">{{ item.Name }}</ng-container>
        </ng-template>

        <ng-template st-row="Relationship" let-item let-index="index">
          <input
            *ngIf="item.edit"
            nz-input
            [ngClass]="item.submit && (!item.Relationship || item.Relationship == '') ? 'danger-st-row' : ''"
            [ngModel]="item.Relationship"
            (ngModelChange)="tableItemRef.setRow(index, { Relationship: $event })"
            [ngModelOptions]="{ standalone: true }"
          />
          <ng-container *ngIf="!item.edit">{{ item.Relationship }}</ng-container>
        </ng-template>

        <ng-template st-row="Note" let-item let-index="index">
          <input
            *ngIf="item.edit"
            nz-input
            [ngClass]="item.submit && (!item.Note || item.Note == '') ? 'danger-st-row' : ''"
            [ngModel]="item.Note"
            (ngModelChange)="tableItemRef.setRow(index, { Note: $event })"
            [ngModelOptions]="{ standalone: true }"
          />
          <ng-container *ngIf="!item.edit">{{ item.Note }}</ng-container>
        </ng-template>
      </st>
    </div>
  </div>
</div>
