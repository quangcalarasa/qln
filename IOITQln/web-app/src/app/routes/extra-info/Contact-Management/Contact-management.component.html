<div class="card-custom">
  <div class="card-header">
    <ng-container [ngTemplateOutlet]="nzExtra"></ng-container>
  </div>

  <div class="card-body">
      <st #tableRef [data]="data" (change)="tableRefChange($event)" [columns]="columns" [size]="'small'"
        [loading]="loading" [ps]="paging.page_size" [total]="paging.item_count"
        [widthMode]="{ type: 'strict', strictBehavior: 'truncate' }" [page]="{ front: false }">
        <ng-template  let-item let-index="index" st-row="stateHeader">
          <div>
              <span *ngIf="item.State == 1">Gửi yêu cầu</span>
              <span *ngIf="item.State == 2">Tiếp nhận</span>
              <span *ngIf="item.State == 3">Hoàn thành</span>

          </div>
      </ng-template>
      <ng-template  let-item let-index="index" st-row="supportTypeHeader">
        <div>
          <span *ngIf="item.SupportType == 1">Nộp hồ sơ thuê nhà</span>
          <span *ngIf="item.SupportType == 2">Nộp hồ sơ mua nhà</span>
          <span *ngIf="item.SupportType == 3">Đơn kiến nghị</span>
          <span *ngIf="item.SupportType == 4">Nội dung khác</span>

        </div>
    </ng-template>
      </st>
    </div>
</div>

<ng-template #nzExtra>
  <div nz-row>
    <div nz-col [nzSm]="24" [nzMd]="6">
      <h3 class="title-table">
        <i nz-icon nzType="arrow-left" nzTheme="outline" (click)="onBack()"></i>
        Danh mục yêu cầu hỗ trợ
      </h3>
    </div>

    <div nz-col [nzSm]="24" [nzMd]="18" style="text-align: right">
      <form class="hidden-mobile table-form" nz-form [nzLayout]="'inline'">
        <nz-form-item>
          <nz-form-control>
            <nz-input-group [nzSuffix]="inputClearTpl">
              <input nz-input [maxlength]="50" [width]="160" [(ngModel)]="query.txtSearch" name="no"
                placeholder="Tên khách hàng" id="no" />
            </nz-input-group>
            <ng-template #inputClearTpl>
              <i nz-icon class="ant-input-clear-icon" nzTheme="fill" nzType="close-circle" *ngIf="query.txtSearch"
                (click)="[(query.txtSearch = undefined)]"></i>
            </ng-template>
          </nz-form-control>
        </nz-form-item>
        <nz-form-item>
          <nz-form-control>
            <button nz-button [nzType]="'primary'"  (click)="searchData()">
             Tìm kiếm
            </button>
          </nz-form-control>
        </nz-form-item>
      </form>


      <button nz-button nzType="text" nzTooltipTitle="Làm mới" nz-tooltip (click)="reset()">
        <i nz-icon nzType="reload" nzTheme="outline"></i>
      </button>
    </div>
  </div>
</ng-template>