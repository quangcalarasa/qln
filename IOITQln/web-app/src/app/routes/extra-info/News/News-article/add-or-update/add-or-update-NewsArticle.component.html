<form nz-form [formGroup]="validateForm" (ngSubmit)="submitForm()" style="padding-bottom: 30px">
  <div nz-row [nzGutter]="24">
    <div nz-col [nzSpan]="8">
      <nz-form-item>
        <nz-form-label [nzSpan]="24" nzFor="ArticleTitle" nzRequired>Tiêu đề bài viết</nz-form-label>
        <nz-form-control [nzSpan]="24" nzHasFeedback nzErrorTip="Chưa nhập tiêu đề bài viết">
          <input nz-input formControlName="ArticleTitle" />
        </nz-form-control>
      </nz-form-item>
    </div>
    <div nz-col [nzSpan]="8">
      <nz-form-item>
        <nz-form-label [nzSpan]="24" nzFor="ExtraNewsArticleListId" nzRequired>Loại danh mục tin tức</nz-form-label>
        <nz-form-control [nzSpan]="24" nzHasFeedback nzErrorTip="Chưa chọn đơn vị tính!">
          <nz-select nzAllowClear formControlName="ExtraNewsArticleListId" name="ExtraNewsArticleListId" id="ExtraNewsArticleListId" nzPlaceHolder="" [nzShowSearch]="true">
            <nz-option *ngFor="let i of dataTypeNews; let idx = index" [nzLabel]="i.TypeNews" [nzValue]="i.Id"> </nz-option>
          </nz-select>
        </nz-form-control>
      </nz-form-item>
    </div>
    <div nz-col [nzSpan]="8">
      <nz-form-item>
        <nz-form-label [nzSpan]="24" nzFor="DateUpdate">Ngày cập nhập</nz-form-label>
        <nz-form-control  [nzSpan]="24" [nzErrorTip]="DocErrorTpl">
          <input nz-input type="date" max="9999-12-31" formControlName="DateUpdate" />
          <ng-template #DocErrorTpl let-control>
            <ng-container *ngIf="control.hasError('required')">Chưa nhập cập nhập!</ng-container>
          </ng-template>
        </nz-form-control>
      </nz-form-item>
    </div>
    <div nz-col [nzSpan]="8">
      <nz-form-item>
        <nz-form-label [nzSpan]="24" nzFor="Content" nzRequired>Nội dung</nz-form-label>
        <nz-form-control [nzSpan]="24" nzHasFeedback nzErrorTip="Chưa nhập nội dung">
          <input nz-input formControlName="Content" />
        </nz-form-control>
      </nz-form-item>
    </div>
    <div nz-col [nzSpan]="8">
      <nz-form-item>
        <nz-form-label [nzSpan]="24" nzFor="ShortNote" >Ghi chú ngắn</nz-form-label>
        <nz-form-control [nzSpan]="24" nzHasFeedback>
          <input nz-input formControlName="ShortNote" />
        </nz-form-control>
      </nz-form-item>
    </div>
  </div>
</form>

<div>
  <div class="avatar__title">Ảnh bài viết</div>
  <nz-form-control [nzSpan]="14">
    <nz-upload
      class="avatar-uploader img-news"
      [nzAccept]="'image/png,image/jpeg,image/gif,image/bmp'"
      nzName="Files"
      nzListType="picture-card"
      [nzShowUploadList]="false"
      [nzBeforeUpload]="beforeUpload"
    >
      <ng-container *ngIf="!validateForm.value.Files">
        <i class="upload-icon" nz-icon [nzType]="'upload'"></i>
        <div class="ant-upload-text">&nbsp;&nbsp;&nbsp;Tải lên</div>
      </ng-container>
      <img *ngIf="validateForm.value.Files" [src]="srcImg + validateForm.value.Files" class="img-upload-drawer" />
    </nz-upload>
    <div *ngIf="validateForm.value.Files" class="btn-remove-img btn-remove" style="color: red" (click)="validateForm.value.Files = undefined">
      <i nz-icon nzType="close-circle" nzTheme="outline"></i>
    </div>
  </nz-form-control>
</div>


<div class="drawer-footer">
  <button nz-button [nzType]="'default'" (click)="close()">
    <i nz-icon nzType="stop" nzTheme="outline"></i>
    Đóng
  </button>
  <button nz-button [nzType]="'primary'" [disabled]="!validateForm.valid || loading" (click)="submitForm()">
    <i nz-icon nzType="save" nzTheme="outline"></i>
    Lưu
  </button>
</div>
