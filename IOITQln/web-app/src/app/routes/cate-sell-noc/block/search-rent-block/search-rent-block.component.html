<div>
    <form nz-form [formGroup]="validateForm" (ngSubmit)="submitForm()" (keydown.enter)="$event.preventDefault()">
        <div nz-row [nzGutter]="24">
            <div nz-col [nzSpan]="24">
                <nz-form-item>
                    <nz-form-label [nzSpan]="24" nzFor="Code" nzRequired>Mã định danh</nz-form-label>
                    <nz-form-control [nzSpan]="24" nzHasFeedback nzErrorTip="Chưa nhập Mã định danh!">
                        <input nz-input formControlName="Code"
                            (ngModelChange)="[codeStatus=undefined,blockId=undefined,validateForm.value.TypeReportApply=undefined]"
                            (keyup.enter)="search()" />
                    </nz-form-control>
                </nz-form-item>
            </div>
        </div>
        <div nz-row [nzGutter]="24" *ngIf="codeStatus">
            <div nz-col [nzSpan]="24">
                <nz-alert nzType="warning" [nzMessage]="msg"></nz-alert>
            </div>
        </div>
        <div nz-row [nzGutter]="24" *ngIf="codeStatus && codeStatus!=codeStatusEnum.DA_CAP_NHAT">
            <div nz-col [nzSpan]="24">
                <nz-form-item>
                    <nz-form-label [nzSpan]="24" nzFor="TypeReportApply" nzRequired>Loại biên bản áp
                        dụng</nz-form-label>
                    <nz-form-control [nzSpan]="24" nzHasFeedback nzErrorTip="Chưa chọn Loại biên bản áp dụng!">
                        <nz-select nzAllowClear formControlName="TypeReportApply" name="TypeReportApply"
                            id="TypeReportApply" nzPlaceHolder="" [nzShowSearch]="true"
                            [nzDisabled]="codeStatus==codeStatusEnum.DA_TON_TAI">
                            <nz-option
                                *ngFor="let i of typeReportApply_data | keyvalue | filterTypeReportApplyWithoutAnyItem : TypeReportApplyEnum.BAN_PHAN_DIEN_TICH_LIEN_KE; let idx = index"
                                [nzLabel]="i.value" [nzValue]="i.key">
                            </nz-option>
                        </nz-select>
                    </nz-form-control>
                </nz-form-item>
            </div>
        </div>
    </form>
</div>
<div *nzModalFooter>
    <button nz-button nzType="default" (click)="close()">Hủy</button>
    <button nz-button nzType="primary" [disabled]="!validateForm.value.Code || validateForm.value.TypeReportApply"
        (click)="search()">Tra cứu</button>
    <button nz-button nzType="primary" [disabled]="!validateForm.valid" (click)="submitForm()"
        *ngIf="codeStatus && codeStatus!=codeStatusEnum.DA_CAP_NHAT">Tiếp
        theo</button>
    <button nz-button nzType="primary" (click)="submitForm()" *ngIf="codeStatus==codeStatusEnum.DA_CAP_NHAT">Chỉnh
        sửa</button>
</div>