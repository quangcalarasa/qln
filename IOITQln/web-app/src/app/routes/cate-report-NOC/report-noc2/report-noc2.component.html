<nz-form nz-form [formGroup]="validateForm" style="padding-bottom: 30px">
  <div nz-row class="row-title">
    <div nz-col [nzMd]="5">
      <span class="title">Bộ lọc</span>
    </div>
  </div>
  <div nz-row [nzGutter]="24">
    <div nz-col [nzSpan]="6">
      <nz-form-item>
        <nz-form-label [nzSpan]="24" nzFor="TypeBlockId">Loại nhà</nz-form-label>
        <nz-select nzAllowClear formControlName="TypeBlockId" name="TypeBlockId" id="TypeBlockId" nzPlaceHolder="" [nzShowSearch]="true">
          <nz-option *ngFor="let i of typehouse_data; let idx = index" [nzLabel]="i.Name" [nzValue]="i.Id"> </nz-option>
        </nz-select>
      </nz-form-item>
    </div>
  </div>
</nz-form>

<div style="margin: 10px">
  <button nz-button nzType="primary" (click)="onClick()">
    <span nz-icon nzType="search"></span>
    Hiển thị dữ liệu
  </button>
  <button nz-button nzType="primary" (click)="dowloadReportNOC2()">
    <span nz-icon nzType="download"></span>
    Xuất báo cáo phụ lục 2</button
  >
</div>

<div class="table-bct">
  <table>
    <thead>
      <th>STT</th>
      <th>Quận</th>
      <th>Loại nhà</th>
      <th>Số tầng</th>
      <th>Tranh chấp</th>
      <th>Bản vẽ</th>
      <th>Xác lập SHNN</th>
      <th>Chiếm dụng</th>
      <th>Diện tích đất(m2)</th>
      <th>Diện tích sàn(m2)</th>
      <th>Ghi chú</th>
    </thead>
    <tbody>
      <ng-container *ngFor="let itemdata of data; let i = index; let firstChild = first; let lastChild = last">
        <ng-container *ngFor="let item of itemdata.groupDataByBlockId; let first = first; let lastChild = last">
          <tr>
            <td *ngIf="first" [attr.rowspan]="itemdata.groupDataByBlockId.length" class="text-center">{{ i + 1 }}</td>
            <td *ngIf="item.Index == -1" class="text-center">Tổng</td>
            <td class="text-center" *ngIf="item.Index != -1" class="text-center">{{ item.DistrictName }}</td>
            <td *ngIf="first" [attr.rowspan]="itemdata.groupDataByBlockId.length" class="text-center">{{ item.TypeBlockName }}</td>
            <td *ngIf="first" [attr.rowspan]="itemdata.groupDataByBlockId.length" class="text-center">{{ item.FloorNumber }}</td>
            <td *ngIf="item.index != -1">
              <input type="checkbox" [checked]="item.Dispute" disabled />
            </td>
            <td *ngIf="item.index != -1">
              <input type="checkbox" [checked]="item.Blueprint" disabled />
            </td>
            <td *ngIf="item.index != -1">
              <input type="checkbox" [checked]="item.EstablishStateOwnership" disabled />
            </td>
            <td *ngIf="item.index != -1">
              <input type="checkbox" [checked]="item.TakeOver" disabled />
            </td>
            <td *ngIf="item.Index == 1"> </td>
            <td *ngIf="item.Index == 1"> </td>
            <td *ngIf="item.Index == 1"> </td>
            <td *ngIf="item.Index == 1"> </td>
            <td *ngIf="first" [attr.rowspan]="itemdata.groupDataByBlockId.length - 1" class="text-center">{{
              item.LandArea | number: '0.0-2':'de-DE'
            }}</td>
            <td *ngIf="item.Index == -1" class="text-center">{{ item.LandArea | number: '0.0-2':'de-DE' }}</td>
            <td class="text-center">{{ item.UsableArea | number: '0.0-2':'de-DE' }}</td>
            <td class="text-center"></td>
          </tr>
        </ng-container>
      </ng-container>
    </tbody>
  </table>
</div>
